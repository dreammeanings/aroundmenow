alerts:
- rule: DEPLOYMENT_FAILED
- rule: DOMAIN_FAILED
features:
- buildpack-stack=ubuntu-22
ingress:
  rules:
  - component:
      name: aroundmenow-backend
    match:
      authority:
        exact: ""
      path:
        prefix: /
name: around-me-now
region: sfo
services:
- environment_slug: node-js
  envs:
  - key: NODE_ENV
    scope: RUN_AND_BUILD_TIME
    value: production
  - key: PORT
    scope: RUN_AND_BUILD_TIME
    value: "3000"
  - key: JWT_SECRET
    scope: RUN_AND_BUILD_TIME
    value: your-jwt-secret-key
  - key: DATABASE_URL
    scope: RUN_AND_BUILD_TIME
    value: postgresql://username:password@host:port/database
  - key: AWS_ACCESS_KEY_ID
    scope: RUN_AND_BUILD_TIME
    value: your-aws-access-key
  - key: AWS_SECRET_ACCESS_KEY
    scope: RUN_AND_BUILD_TIME
    value: your-aws-secret-key
  - key: STRIPE_SECRET_KEY
    scope: RUN_AND_BUILD_TIME
    value: sk_live_your-stripe-secret-key
  - key: STRIPE_PUBLISHABLE_KEY
    scope: RUN_AND_BUILD_TIME
    value: pk_live_your-stripe-publishable-key
  - key: GOOGLE_MAPS_API_KEY
    scope: RUN_AND_BUILD_TIME
    value: your-google-maps-api-key
  - key: EXPO_ACCESS_TOKEN
    scope: RUN_AND_BUILD_TIME
    value: your-expo-access-token
  - key: SMTP_USER
    scope: RUN_AND_BUILD_TIME
    value: your-email@gmail.com
  - key: SMTP_PASS
    scope: RUN_AND_BUILD_TIME
    value: your-app-password
  github:
    branch: main
    deploy_on_push: true
    repo: dreammeanings/aroundmenow
  http_port: 3000
  instance_count: 1
  instance_size_slug: apps-s-1vcpu-1gb
  name: aroundmenow-backend
  run_command: npm start
  source_dir: /backend 